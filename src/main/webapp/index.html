<!DOCTYPE html>
<html>

<head>
	
	<title>Minimaxi</title>
	
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
	<meta http-equiv="Pragma" content="no-cache"/>
	<meta http-equiv="Expires" content="0"/>
	
    <!-- Bootstrap core CSS -->
    <link href="resources/bootstrap-3.3.5/css/bootstrap.css" rel="stylesheet">
    <link href="resources/bootstrap-3.3.5/css/bootstrap-theme.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="resources/css/minimaxi.css" rel="stylesheet">
    
    <!-- Awesome fonts -->
    <link href="resources/font-awesome-4.5.0/css/font-awesome.css" rel="stylesheet">
    
    <!-- Other fonts -->
    <link href="http://fonts.googleapis.com/css?family=Great+Vibes" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Merienda+One" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
    
  </head>
		
	<script type="text/javascript" src="resources/jquery-1.11.1/jquery.js"></script>
    <script type="text/javascript" src="resources/bootstrap-3.3.5/js/bootstrap.js"></script>	
    <script type="text/javascript" src="resources/javascript/minimaxi.js"></script>	

</head>

<body>

    <div class="navbar navbar navbar-acsi">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="index.html#welkom">Start</a></li>
            <li><a href="index.html#team">Bekijk</a>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    
	<section id="entry-form">
	
		<div class="container">
		
			<div class="row">
			
				<form id="entryForm" action="/api/entries" method="post" class="form-horizontal" enctype="multipart/form-data">
		
				<h3>Avontuur</h3>
				
				<div class="form-group">
					<label for="title" class="col-sm-4 control-label">Titel (*)</label>
					<div class="col-sm-3">	
						<input name="title" type="text" class="form-control" required="required"></input>
					</div>
				</div>
				<div class="form-group">
						<label for="description" class="col-sm-4 control-label">Uitleg (*)</label>
						<div class="col-sm-8">
							<textarea name="description" class="form-control" rows="10" cols="64" required="required"></textarea>
						</div>
				</div>
				<div class="form-group">
						<label for="organisation-email" class="col-sm-4 control-label">Datum (*)</label>
					    <div class="col-xs-2">
							<input name="momentDay" type="text" value="" pattern="[0-9]*" maxlength="2" placeholder="Dag" class="form-control" autocomplete="on" required="required">
						</div>
				      <div class="col-xs-2">
				        <select name="momentMonth" class="form-control">
				          <option value="01" selected="selected">Januari</option>
				          <option value="02">Februari</option>
				          <option value="03">Maart</option>
				          <option value="04">April</option>
				          <option value="05">Mei</option>
				          <option value="06">Juni</option>
				          <option value="07">Juli</option>
				          <option value="08">Augustus</option>
				          <option value="09">September</option>
				          <option value="10">Oktober</option>
				          <option value="11">November</option>
				          <option value="12">December</option>
				        </select>
				      </div>
    				<div class="col-xs-2">
      					<input name="momentYear" value="2017" type="text" pattern="[0-9]*" maxlength="4" placeholder="Jaar" class="form-control" required="required">
    				</div>
    				<div class="col-xs-2">
    				</div>
  				</div>
  				<div class="form-group">
					<label for="mediaType" class="col-sm-4 control-label">Type (*)</label>
					<div class="col-sm-3">	
						<select name="mediaType" class="form-control">
							<option value="Text">Tekstje</option>
							<option value="Image">Afbeelding</option>
							<option value="Born">Geboren!</option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label for="recipients" class="col-sm-4 control-label">Voor wie (*)</label>
					<div class="col-sm-3">	
						<div class="checkbox">
							<label>
						    <input type="checkbox" name="recipients" value="mama" checked="checked">
						    Mama
						  </label>
						</div>
						<div class="checkbox">
						  <label>
						    <input type="checkbox" name="recipients" value="svekke" checked="checked">
						    Papa
						  </label>
						 </div>
						 <div class="checkbox">
						  <label>
						    <input type="checkbox" name="recipients" value="meter">
						    Meter
						  </label>
						</div>
						<div class="checkbox disabled">
						  <label>
						    <input type="checkbox" name="recipients" value="peter">
						    Peter
						  </label>
						</div>
					</div>
					<div class="col-sm-3">	
						<div class="checkbox">
						  <label>
						    <input type="checkbox" name="recipients" value="moeke">
						    Moeke en vake
						  </label>
						 </div>
						 <div class="checkbox">
						  <label>
						    <input type="checkbox" name="recipients" value="oma">
						    Oma en opa
						  </label>
						</div>
						<div class="checkbox">
						  <label>
						    <input type="checkbox" name="recipients" value="x">
						    Curieuzeneuzen
						  </label>
						</div>
					</div>
				</div>
				
				<div class="form-group">
						<label class="col-sm-4 control-label"></label>
						<div class="col-sm-8">
							<button type="submit" id="submit" class="btn btn-primary"><i class="fa fa-save"></i>&nbsp;&nbsp;Verstuur</button>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-4 control-label"></label>
						<div class="col-sm-8">
							<div id="submitStatus" class="hidden"></div>
						</div>
					</div>
				
				</form>
				
			</div>
			
		</div>
		
	</section>
	
	<section id="f" class="sect north">
		<span><i class="fa fa-copyright"></i>&nbsp; Occam.be 2016</span>
	</section>
	
	<script>
	
		var $jq = jQuery.noConflict();
	
		$jq(".toggle").click( function( event ) {
			
			$jq(this).parent().removeClass("show").addClass("hidden");
			
			var div = $jq(this).attr("data-show-div");
			
			$jq("#" + div ).removeClass("hidden").addClass("show");
			
		});
		
		var serialize = function( element ) {
		    var o = {};
		    var a = element.serializeArray();
		    $jq.each(a, function() {
		        if (o[this.name] !== undefined) {
		            if (!o[this.name].push) {
		                o[this.name] = [o[this.name]];
		            }
		            o[this.name].push(this.value || '');
		        } else {
		            o[this.name] = this.value || '';
		        }
		    });
		    return o;
		};
		
	$jq("#entryForm").submit( function( event ) {
		
		event.preventDefault();
			
		var type = "json";

		var url = "api/entries";
		//var url = "http://localhost:8068/api/entries";

		var fdata = new FormData();

		var json 
			= JSON.stringify( serialize( $jq("#entryForm") ) );
		
		busyButton($jq("#submit"));

		$jq.ajax({
			type : "post",
			url : url,
			dataType : type,
			contentType : "application/json",
			processData : false,
			data : json,
			success : function( created ) {
				success( $jq("#submit"), $jq("#submitStatus"), "Het avontuurtje werd opgeslagen!" );
			},
			error : function( response ) {
				error($jq("#submit"), $jq("#submitStatus"), "Er trad een fout op. Probeer AUB opnieuw" );
			}
		});
		
	});
		
		
		
		
		
		
	
	</script>
</html>
